# Большая БД

[Документация](https://docs.citusdata.com/en/v11.1/develop/migration_data_big.html)

## Краткий план
1. Создайте backup схемы старой БД. Создайте новую БД из этой схемы.
2. Настройте логическую репликацию между старой и новой БД.
3. Откройте доступ к старой БД для работы логической репликации.
4. Запустите репликацию и дождитесь ее завершения.
5. Остановите пишущий трафик на старой БД. 
6. Перенесите sequences на новую БД.
7. Переключите пишущий трафик на новую БД.

## Примечание
При логической репликации больших БД нужно позаботиться о наличии свободного места на сервере источнике.
Кроме того следует воздержаться от изменения схемы во время логической репликации.
Или схему менять в двух БД.

Рекомендуется наладить мониторинг лага отставания репликации на БД источнике.
